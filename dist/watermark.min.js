!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WaterMark=e():t.WaterMark=e()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var r=n(1),o=n(2);t.exports=function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.type,a=void 0===i?"canvas":i,c=n.container,u=void 0===c?document.body:c,f=n.content,d=void 0===f?"WaterMark":f,l=n.width,s=void 0===l?"300px":l,h=n.height,p=void 0===h?"200px":h,v=n.rotate,g=void 0===v?"30":v,x=n.fontSize,b=void 0===x?"20px":x,y=n.color,A=void 0===y?"rgba(184, 184, 184, 0.8)":y,m=n.zIndex,w=void 0===m?1e3:m,S=arguments[0];e="canvas"===a?r({content:d,width:s,height:p,rotate:g,fontSize:b,fillStyle:A}):o({content:d,width:s,height:p,rotate:g,fontSize:b,fill:A});var B=document.querySelector(".__wm"),C=B||document.createElement("div"),F="\n      position:absolute;\n      top:0;\n      left:0;\n      width:100%;\n      height:100%;\n      z-index:".concat(w,";\n      pointer-events:none;\n      background-repeat:repeat;\n      background-image:url('").concat(e,"')");C.setAttribute("style",F),C.className+=" __wm",B||(u.style.position="relative",u.insertBefore(C,u.firstChild));var j=window.MutationObserver||window.WebKitMutationObserver;if(j){var O=new j(function(){var e=document.querySelector(".__wm");(e&&e.getAttribute("style")!==F||!e)&&(O.disconnect(),O=null,t(S))});O.observe(u,{attributes:!0,subtree:!0,childList:!0})}}},function(t,e){t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=void 0===e?"300px":e,r=t.height,o=void 0===r?"200px":r,i=t.textAlign,a=void 0===i?"center":i,c=t.textBaseline,u=void 0===c?"middle":c,f=t.fontSize,d=void 0===f?"20px":f,l=t.fillStyle,s=void 0===l?"rgba(184, 184, 184, 0.8)":l,h=t.content,p=void 0===h?"WaterMark":h,v=t.rotate,g=void 0===v?"30":v,x=document.createElement("canvas");x.setAttribute("width",n),x.setAttribute("height",o);var b=x.getContext("2d");return b.textAlign=a,b.textBaseline=u,b.fontSize=d,b.fillStyle=s,b.rotate(Math.PI/180*g),b.fillText(p,parseFloat(n)/2,parseFloat(o)/2),x.toDataURL()}},function(t,e,n){var r=n(3).Base64;t.exports=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.content,o=void 0===n?"WaterMark":n,i=e.width,a=void 0===i?"300px":i,c=e.height,u=void 0===c?"200px":c,f=e.fontSize,d=void 0===f?"20px":f,l=e.fill,s=void 0===l?"rgba(184, 184, 184, 0.8)":l,h=e.rotate,p=void 0===h?"30":h;if(Array.isArray(o)){var v=o.map(function(t,e){return'<text\n          x="50%"\n          y="'.concat(10*(e+1),'%"\n          dy="12px"\n          text-anchor="middle"\n          fill="').concat(s,'"\n          transform="rotate(').concat(p,')"\n          style="font-size: ').concat(d,';"\n        >\n          ').concat(t,"\n        </text>")}).join("");t='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(a,'" height="').concat(u,'">').concat(v,"</svg>")}else t='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(a,'" height="').concat(u,'">\n                        <text x="50%" y="50%" dy="12px"\n                            text-anchor="middle"\n                            fill="').concat(s,'"\n                            transform="rotate(').concat(p,')"\n                            style="font-size: ').concat(d,';">\n                            ').concat(o,"\n                        </text>\n                    </svg>");return window.btoa?"data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(t)))):"data:image/svg+xml;base64,".concat(r.encode(unescape(encodeURIComponent(t))))}},function(t,e,n){(function(n){var r;!function(n,o){t.exports=function(n){"use strict";var o,i=(n=n||{}).Base64,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(a),u=String.fromCharCode,f=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?u(192|e>>>6)+u(128|63&e):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return u(240|e>>>18&7)+u(128|e>>>12&63)+u(128|e>>>6&63)+u(128|63&e)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,l=function(t){return t.replace(d,f)},s=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),r=[a.charAt(n>>>18),a.charAt(n>>>12&63),e>=2?"=":a.charAt(n>>>6&63),e>=1?"=":a.charAt(63&n)];return r.join("")},h=n.btoa&&"function"==typeof n.btoa?function(t){return n.btoa(t)}:function(t){if(t.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return t.replace(/[\s\S]{1,3}/g,s)},p=function(t){return h(l(String(t)))},v=function(t){return t.replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,"")},g=function(t,e){return e?v(p(t)):p(t)};n.Uint8Array&&(o=function(t,e){for(var n="",r=0,o=t.length;r<o;r+=3){var i=t[r],c=t[r+1],u=t[r+2],f=i<<16|c<<8|u;n+=a.charAt(f>>>18)+a.charAt(f>>>12&63)+(void 0!==c?a.charAt(f>>>6&63):"=")+(void 0!==u?a.charAt(63&f):"=")}return e?v(n):n});var x,b=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,y=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return u(55296+(n>>>10))+u(56320+(1023&n));case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},A=function(t){return t.replace(b,y)},m=function(t){var e=t.length,n=e%4,r=(e>0?c[t.charAt(0)]<<18:0)|(e>1?c[t.charAt(1)]<<12:0)|(e>2?c[t.charAt(2)]<<6:0)|(e>3?c[t.charAt(3)]:0),o=[u(r>>>16),u(r>>>8&255),u(255&r)];return o.length-=[0,0,2,1][n],o.join("")},w=n.atob&&"function"==typeof n.atob?function(t){return n.atob(t)}:function(t){return t.replace(/\S{1,4}/g,m)},S=function(t){return w(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},B=function(t){return String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},C=function(t){return function(t){return A(w(t))}(B(t))};n.Uint8Array&&(x=function(t){return Uint8Array.from(S(B(t)),function(t){return t.charCodeAt(0)})});if(n.Base64={VERSION:"2.6.3",atob:S,btoa:h,fromBase64:C,toBase64:g,utob:l,encode:g,encodeURI:function(t){return g(t,!0)},btou:A,decode:C,noConflict:function(){var t=n.Base64;return n.Base64=i,t},fromUint8Array:o,toUint8Array:x},"function"==typeof Object.defineProperty){var F=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",F(function(){return C(this)})),Object.defineProperty(String.prototype,"toBase64",F(function(t){return g(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",F(function(){return g(this,!0)}))}}n.Meteor&&(Base64=n.Base64);t.exports?t.exports.Base64=n.Base64:void 0===(r=function(){return n.Base64}.apply(e,[]))||(t.exports=r);return{Base64:n.Base64}}(n)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:this)}).call(this,n(4))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])});
//# sourceMappingURL=watermark.min.js.map