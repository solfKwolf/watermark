{"version":3,"sources":["webpack://WaterMark/webpack/universalModuleDefinition","webpack://WaterMark/webpack/bootstrap","webpack://WaterMark/./lib/watermark.js","webpack://WaterMark/./lib/canvasWM.js","webpack://WaterMark/./lib/svgWM.js","webpack://WaterMark/./node_modules/js-base64/base64.js","webpack://WaterMark/(webpack)/buildin/global.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","canvasWM","require","svgWM","WaterMark","base64Url","_ref","arguments","length","undefined","_ref$type","type","_ref$container","container","document","body","_ref$content","content","_ref$width","width","_ref$height","height","_ref$rotate","rotate","_ref$fontSize","fontSize","_ref$color","color","_ref$zIndex","zIndex","args","fillStyle","fill","__wm","querySelector","watermarkDiv","createElement","styleStr","concat","setAttribute","className","style","position","insertBefore","firstChild","MutationObserver","window","WebKitMutationObserver","mo","getAttribute","disconnect","observe","attributes","subtree","childList","_ref$textAlign","textAlign","_ref$textBaseline","textBaseline","_ref$fillStyle","canvas","ctx","getContext","Math","PI","fillText","parseFloat","toDataURL","Base64","svgStr","_ref$fill","Array","isArray","contstr","map","item","index","join","btoa","unescape","encodeURIComponent","encode","global","__WEBPACK_AMD_DEFINE_RESULT__","fromUint8Array","_Base64","b64chars","b64tab","bin","charAt","fromCharCode","String","cb_utob","cc","charCodeAt","re_utob","utob","u","replace","cb_encode","ccc","padlen","ord","chars","b","match","RangeError","_encode","mkUriSafe","b64","m0","urisafe","Uint8Array","a","a0","a1","a2","toUint8Array","re_btou","cb_btou","cccc","cp","offset","btou","cb_decode","len","_atob","atob","_fromURI","decode","_decode","from","VERSION","fromBase64","toBase64","encodeURI","noConflict","noEnum","v","writable","configurable","extendString","apply","self","g","Function","eval","e"],"mappings":"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","file":"watermark.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WaterMark\"] = factory();\n\telse\n\t\troot[\"WaterMark\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const canvasWM = require(\"./canvasWM\");\r\nconst svgWM = require(\"./svgWM\");\r\n\r\nfunction WaterMark({\r\n  type = \"canvas\",\r\n  container = document.body,\r\n  content = \"WaterMark\",\r\n  width = \"300px\",\r\n  height = \"200px\",\r\n  rotate = \"30\",\r\n  fontSize = \"20px\",\r\n  color = \"rgba(184, 184, 184, 0.8)\",\r\n  zIndex = 1000,\r\n} = {}) {\r\n  const args = arguments[0];\r\n  let base64Url;\r\n  if (type === \"canvas\") {\r\n    base64Url = canvasWM({\r\n      content,\r\n      width,\r\n      height,\r\n      rotate,\r\n      fontSize,\r\n      fillStyle: color,\r\n    });\r\n  } else {\r\n    base64Url = svgWM({\r\n      content,\r\n      width,\r\n      height,\r\n      rotate,\r\n      fontSize,\r\n      fill: color,\r\n    });\r\n  }\r\n\r\n  const __wm = document.querySelector(\".__wm\");\r\n\r\n  const watermarkDiv = __wm || document.createElement(\"div\");\r\n  const styleStr = `\r\n      position:absolute;\r\n      top:0;\r\n      left:0;\r\n      width:100%;\r\n      height:100%;\r\n      z-index:${zIndex};\r\n      pointer-events:none;\r\n      background-repeat:repeat;\r\n      background-image:url('${base64Url}')`;\r\n\r\n  watermarkDiv.setAttribute(\"style\", styleStr);\r\n  watermarkDiv.className += \" __wm\";\r\n\r\n  if (!__wm) {\r\n    container.style.position = \"relative\";\r\n    container.insertBefore(watermarkDiv, container.firstChild);\r\n  }\r\n\r\n  // 监听节点的变动\r\n  // https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver\r\n  const MutationObserver =\r\n    window.MutationObserver || window.WebKitMutationObserver;\r\n  if (MutationObserver) {\r\n    let mo = new MutationObserver(function () {\r\n      const __wm = document.querySelector(\".__wm\");\r\n      // 只在__wm元素变动才重新调用 WaterMark\r\n      if ((__wm && __wm.getAttribute(\"style\") !== styleStr) || !__wm) {\r\n        // 避免一直触发\r\n        mo.disconnect();\r\n        mo = null;\r\n        WaterMark(args);\r\n      }\r\n    });\r\n    mo.observe(container, {\r\n      attributes: true,\r\n      subtree: true,\r\n      childList: true,\r\n    });\r\n  }\r\n}\r\n\r\nmodule.exports = WaterMark;\r\n","/**\r\n * \r\n * @param {object} param0 绘制参数\r\n * @return {object} base64图片路径\r\n */\r\nfunction canvasWM({\r\n    // 使用 ES6 的函数默认值方式设置参数的默认取值\r\n    // 具体参见 https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Default_parameters\r\n    width = '300px',\r\n    height = '200px',\r\n    textAlign = 'center',\r\n    textBaseline = 'middle',\r\n    fontSize = \"20px\",\r\n    fillStyle = 'rgba(184, 184, 184, 0.8)',\r\n    content = 'WaterMark',\r\n    rotate = '30'\r\n} = {}) {\r\n    // 创建画布节点\r\n    const canvas = document.createElement('canvas');\r\n    // 设置canvas属性\r\n    canvas.setAttribute('width', width);\r\n    canvas.setAttribute('height', height);\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    ctx.textAlign = textAlign;\r\n    ctx.textBaseline = textBaseline;\r\n    ctx.fontSize = fontSize;\r\n    ctx.fillStyle = fillStyle;\r\n    ctx.rotate(Math.PI / 180 * rotate);\r\n    // 画布中心绘制文字\r\n    ctx.fillText(content, parseFloat(width) / 2, parseFloat(height) / 2);\r\n\r\n    const base64Url = canvas.toDataURL();\r\n    return base64Url;\r\n}\r\n\r\nmodule.exports = canvasWM;\r\n","/**\r\n *\r\n * @param {object} param0 绘制参数\r\n * @return {object} base64图片路径\r\n */\r\nconst { Base64 } = require(\"js-base64\");\r\n\r\nfunction svgWM({\r\n  content = \"WaterMark\",\r\n  width = \"300px\",\r\n  height = \"200px\",\r\n  fontSize = \"20px\",\r\n  fill = \"rgba(184, 184, 184, 0.8)\",\r\n  rotate = \"30\",\r\n} = {}) {\r\n  let svgStr;\r\n  if (Array.isArray(content)) {\r\n    const contstr = content\r\n      .map((item, index) => {\r\n        return `<text\r\n          x=\"50%\"\r\n          y=\"${(index + 1) * 10}%\"\r\n          dy=\"12px\"\r\n          text-anchor=\"middle\"\r\n          fill=\"${fill}\"\r\n          transform=\"rotate(${rotate})\"\r\n          style=\"font-size: ${fontSize};\"\r\n        >\r\n          ${item}\r\n        </text>`;\r\n      })\r\n      .join(\"\");\r\n    svgStr = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${width}\" height=\"${height}\">${contstr}</svg>`;\r\n  } else {\r\n    svgStr = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${width}\" height=\"${height}\">\r\n                        <text x=\"50%\" y=\"50%\" dy=\"12px\"\r\n                            text-anchor=\"middle\"\r\n                            fill=\"${fill}\"\r\n                            transform=\"rotate(${rotate})\"\r\n                            style=\"font-size: ${fontSize};\">\r\n                            ${content}\r\n                        </text>\r\n                    </svg>`;\r\n  }\r\n  let base64Url;\r\n  if (!window.btoa) {\r\n    base64Url = `data:image/svg+xml;base64,${Base64.encode(\r\n      unescape(encodeURIComponent(svgStr))\r\n    )}`;\r\n  } else {\r\n    base64Url = `data:image/svg+xml;base64,${window.btoa(\r\n      unescape(encodeURIComponent(svgStr))\r\n    )}`;\r\n  }\r\n  // window.btoa 从 String 对象中创建一个 base-64 编码的 ASCII 字符串，其中字符串中的每个字符都被视为一个二进制数据字节。\r\n\r\n  return base64Url;\r\n}\r\n\r\nmodule.exports = svgWM;\r\n","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.6.3\";\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa && typeof global.btoa == 'function'\n        ? function(b){ return global.btoa(b) } : function(b) {\n        if (b.match(/[^\\x00-\\xFF]/)) throw new RangeError(\n            'The string contains invalid characters.'\n        );\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = function(u) {\n        return btoa(utob(String(u)));\n    };\n    var mkUriSafe = function (b64) {\n        return b64.replace(/[+\\/]/g, function(m0) {\n            return m0 == '+' ? '-' : '_';\n        }).replace(/=/g, '');\n    };\n    var encode = function(u, urisafe) {\n        return urisafe ? mkUriSafe(_encode(u)) : _encode(u);\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    var fromUint8Array;\n    if (global.Uint8Array) fromUint8Array = function(a, urisafe) {\n        // return btoa(fromCharCode.apply(null, a));\n        var b64 = '';\n        for (var i = 0, l = a.length; i < l; i += 3) {\n            var a0 = a[i], a1 = a[i+1], a2 = a[i+2];\n            var ord = a0 << 16 | a1 << 8 | a2;\n            b64 +=    b64chars.charAt( ord >>> 18)\n                +     b64chars.charAt((ord >>> 12) & 63)\n                + ( typeof a1 != 'undefined'\n                    ? b64chars.charAt((ord >>>  6) & 63) : '=')\n                + ( typeof a2 != 'undefined'\n                    ? b64chars.charAt( ord         & 63) : '=');\n        }\n        return urisafe ? mkUriSafe(b64) : b64;\n    };\n    // decoder stuff\n    var re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob && typeof global.atob == 'function'\n        ? function(a){ return global.atob(a) } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = function(a) { return btou(_atob(a)) };\n    var _fromURI = function(a) {\n        return String(a).replace(/[-_]/g, function(m0) {\n            return m0 == '-' ? '+' : '/'\n        }).replace(/[^A-Za-z0-9\\+\\/]/g, '');\n    };\n    var decode = function(a){\n        return _decode(_fromURI(a));\n    };\n    var toUint8Array;\n    if (global.Uint8Array) toUint8Array = function(a) {\n        return Uint8Array.from(atob(_fromURI(a)), function(c) {\n            return c.charCodeAt(0);\n        });\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        fromUint8Array: fromUint8Array,\n        toUint8Array: toUint8Array\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}